<?php

declare(strict_types=1);

namespace App\Tests;

use App\InnValidator;
use App\InnValidatorInterface;
use App\InnValidatorService;
use PHPUnit\Framework\TestCase;

require_once __DIR__."/../InnValidator.php";
require_once __DIR__."/../InnValidatorService.php";

/**
 * @testdox INN Validator
 * @coversDefaultClass InnValidatorInterface
 */
class INNValidatorTest extends TestCase
{
    private InnValidatorService $context;

    public function setUp(): void
    {
        parent::setUp();
        $this->context = new InnValidatorService(new InnValidator());
    }

    /**
     * @covers ::validate
     * @dataProvider innsDataProvider
     * @group validators
     * @param string $inn Тестовый ИНН
     * @return void
     */
    public function testValidate10($inn): void
    {
        $this->assertTrue($this->context->validate($inn));
    }

    /**
     * @return string[]
     */
    public function innsDataProvider(): array
    {
        return [
            ['528963140004'],
            ['589915891890'],
            ['876300443219'],
            ['517478536845'],
            ['288927153946'],
            ['386265805385'],
            ['146416007407'],
            ['436775358449'],
            ['716376145109'],
            ['769446323651'],
            ['538221921977'],
            ['676507219313'],
            ['109986860470'],
            ['315298842499'],
            ['145357194084'],
            ['628818039280'],
            ['578430109771'],
            ['687223767032'],
            ['296317110831'],
            ['107407986135'],
            ['579386143677'],
            ['228747613018'],
            ['756732170570'],
            ['445580982106'],
            ['246070206712'],
            ['555838530628'],
            ['597838887754'],
            ['458837342857'],
            ['238135922312'],
            ['888221544711'],
            ['758587425249'],
            ['915778051408'],
            ['425254446867'],
            ['786462506392'],
            ['918642251740'],
            ['276199203690'],
            ['266773658105'],
            ['297549260719'],
            ['157149078337'],
            ['747019531940'],
            ['158347879517'],
            ['726277860217'],
            ['776059484540'],
            ['389381545038'],
            ['365690359568'],
            ['086038208190'],
            ['779942609189'],
            ['149240833307'],
            ['826938499228'],
            ['507578294706'],
            ['598605811634'],
            ['089050508380'],
            ['189048203432'],
            ['119172454330'],
            ['276021056090'],
            ['915632086725'],
            ['135847330808'],
            ['048932048826'],
            ['689886502179'],
            ['459868102416'],
            ['459891384906'],
            ['917997180400'],
            ['478727813369'],
            ['856028768397'],
            ['066504799134'],
            ['856310696216'],
            ['516725477296'],
            ['145529310410'],
            ['269843191408'],
            ['206998691833'],
            ['186266740858'],
            ['679256361839'],
            ['779444394445'],
            ['809158899186'],
            ['507416757478'],
            ['438686904001'],
            ['588851446070'],
            ['309142129131'],
            ['617438006636'],
            ['316515947711'],
            ['359685803806'],
            ['545271585143'],
            ['869006347005'],
            ['438588350852'],
            ['335995526359'],
            ['098822394279'],
            ['057079807943'],
            ['337959165502'],
            ['656694175540'],
            ['556053759694'],
            ['329154815674'],
            ['808893474655'],
            ['725898519826'],
            ['826344325274'],
            ['546400227951'],
            ['178899192701'],
            ['205219554903'],
            ['529596051244'],
            ['077538327949'],
            ['6608047980'],
            ['0411591279'],
            ['3053983568'],
            ['9267268936'],
            ['6564701900'],
            ['4357355743'],
            ['9059417104'],
            ['5961540735'],
            ['7403739774'],
            ['0609290514'],
            ['8407775662'],
            ['5014653104'],
            ['7518273377'],
            ['1202680015'],
            ['1929016576'],
            ['5614836660'],
            ['4670884779'],
            ['6490391545'],
            ['4210700045'],
            ['3795740361'],
            ['1733044219'],
            ['3417779868'],
            ['2577734119'],
            ['2657023128'],
            ['8825654979'],
            ['5355069202'],
            ['5367589855'],
            ['0922432494'],
            ['5280321772'],
            ['7860379018'],
            ['7729563244'],
            ['8706925612'],
            ['2414305522'],
            ['2577950279'],
            ['4562772274'],
            ['4453211705'],
            ['4620231100'],
            ['5653206253'],
            ['9267646779'],
            ['5054067787'],
            ['9274434510'],
            ['0698147880'],
            ['2373882609'],
            ['6438605515'],
            ['0285545311'],
            ['0943368031'],
            ['8178673151'],
            ['6882935179'],
            ['2783450994'],
            ['6831223906'],
            ['2037630034'],
            ['7986274983'],
            ['1383782993'],
            ['7305164207'],
            ['8529512572'],
            ['3894429647'],
            ['2913259945'],
            ['7681747441'],
            ['1099998845'],
            ['2977842976'],
            ['4602729158'],
            ['8324877540'],
            ['1754007578'],
            ['7250253342'],
            ['6183338596'],
            ['6295972673'],
            ['8159062446'],
            ['6297166566'],
            ['5420717329'],
            ['8939835577'],
            ['2670782692'],
            ['6980927497'],
            ['3166283856'],
            ['9078053780'],
            ['5332689270'],
            ['5727713540'],
            ['5034928090'],
            ['3324098721'],
            ['2301858572'],
            ['1185508420'],
            ['5683589236'],
            ['1521116493'],
            ['6243384102'],
            ['1648306689'],
            ['7471250942'],
            ['0268800508'],
            ['9111435451'],
            ['1630704537'],
            ['6356226273'],
            ['7378328545'],
            ['7845021891'],
            ['4284585238'],
            ['4459625886'],
            ['8507225214'],
            ['7027166447'],
            ['0147358613'],
            ['5181936648'],
            ['9236757704'],
            ['8774703008'],
        ];
    }
}
